# 多語言架構完善 - 進度追蹤

> **主要文檔**：請參考 [i18n-GUIDE.md](./i18n-GUIDE.md) 了解完整規範和工作流程
> 
> **當前狀態**：階段 6 完成，等待翻譯
> 
> **最後更新**：2025-10-11

---

## 📋 總體進度

- [x] **階段 1**：診斷問題 - 發現 JSON 雙層嵌套導致 i18n 失效
- [x] **階段 2**：修復結構 - 去掉所有 JSON 外層包裝
- [x] **階段 3**：更新工具 - i18n:diff 和 i18n:sync 支持多文件模組
- [x] **階段 4**：更新文檔 - 整合為 i18n-GUIDE.md 主文檔
- [x] **階段 5**：清理硬編碼 - 確認所有頁面使用 i18n
- [x] **階段 6**：準備翻譯 - 生成工具和模板
- [ ] **階段 7**：導入翻譯 - 批量導入 34 語言（等待中）
- [ ] **階段 8**：測試驗證 - 確保所有語言正常

---

## ✅ 已完成的工作

### 架構修復
- ✅ 修復所有模組 JSON 的雙層嵌套問題
- ✅ zh-TW 所有頁面正常顯示中文
- ✅ 統一 JSON 結構規範（無外層包裝）

### 工具更新
- ✅ `i18n:diff` - 支持多文件模組
- ✅ `i18n:sync` - 支持多文件模組
- ✅ `i18n:export-csv` - 導出翻譯模板（新增）
- ✅ `i18n:import-csv` - 批量導入翻譯（新增）

### 文檔整合
- ✅ `docs/i18n-GUIDE.md` - **主文檔**（13KB，包含所有規範）
- ✅ `docs/i18n-MIGRATION-PLAN.md` - 本文檔（進度追蹤）
- ✅ 刪除重複文檔（TRANSLATION-GUIDE, i18n-WORKFLOW, STATUS-REPORT）

### 翻譯準備
- ✅ 生成 `translations-template.csv`（373 個翻譯鍵）
- ✅ 上傳到項目根目錄，隨時可用

---

## 📊 當前狀態

### 翻譯完成度
- **zh-TW**：✅ 100% (373/373)
- **en-US**：⏳ ~35% (需補充)
- **其他 32 語言**：⏳ 待翻譯

### 模組分布
| 模組 | 鍵數 | zh-TW | 其他語言 |
|------|------|-------|----------|
| site | 50+ | ✅ | ⏳ |
| claim | 70+ | ✅ | ⏳ |
| send | 80+ | ✅ | ⏳ |
| privacy | 50+ | ✅ | ⏳ |
| terms | 50+ | ✅ | ⏳ |
| waterfall | 10+ | ✅ | ⏳ |
| story | 60+ | ✅ | N/A |

---

## 🎯 下一步（階段 7：翻譯）

### 您的工作
1. 打開 `translations-template.csv`
2. 上傳到 Google Sheets
3. 翻譯或邀請翻譯團隊
4. 下載完成的 CSV

### 自動化導入
```bash
# 翻譯完成後運行
node scripts/i18n-import-csv.mjs translations.csv

# 驗證
pnpm i18n:diff  # 檢查是否還有遺漏

# 測試
pnpm dev --port 4321
# 訪問 http://localhost:4321/en-US/ 等
```

---

## 📝 完成標準

### 必須達成（發布前）
1. ✅ 所有 JSON 文件無外層包裝
2. ✅ zh-TW 頁面正常顯示中文
3. ✅ i18n 工具支持多文件
4. ✅ 無硬編碼文字（除了合理的 fallback）
5. ⏳ 優先語言有完整翻譯（en-US, ja-JP, ko-KR, zh-CN）
6. ⏳ 所有頁面在優先語言下正常顯示

### 可選（後續優化）
7. ⏳ 所有 34 語言都有翻譯
8. ⏳ RTL 語言測試（ar-SA, fa-IR, he-IL）
9. ⏳ 性能優化：按需加載
10. ⏳ 翻譯進度儀表板

---

## 📈 時間線

- ✅ **2025-10-11**：完成階段 1-6（架構修復和工具準備）
- ⏳ **待定**：階段 7（翻譯工作，1-7 天）
- ⏳ **待定**：階段 8（測試驗證，2-3 小時）

---

## 🔗 快速鏈接

- **開發規範**：[i18n-GUIDE.md](./i18n-GUIDE.md)
- **架構決策**：[ADR-20251003-01](./ADR/ADR-20251003-01.md)
- **UI 規範**：[UI-GUIDELINES.md](../UI-GUIDELINES.md)
- **貢獻指南**：[CONTRIBUTING.md](../CONTRIBUTING.md)

---

## 📞 聯絡

遇到問題：
1. 查看 [i18n-GUIDE.md](./i18n-GUIDE.md) 的「問題排查」章節
2. 運行 `pnpm i18n:diff` 診斷
3. 檢查本文檔的進度狀態
